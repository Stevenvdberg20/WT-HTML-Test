<head>
  <meta content="text/html;charset=utf-8" http-equiv="Content-Type">
  <meta content="utf-8" http-equiv="encoding">
  <title>insert page</title>
</head>
<style>
  h1{
    color:darkblue;
  }
</style>

<script>// galgje
// 1 Functionele Doelstelling (opknippen -> ja)(concreet)(niet-technisch)
// letter invoeren zien
// 2 Technische Strategie (func doel)(wel-technisch)(tijd-precies)
// invoerbox hebben invoeren button onclick || onkeyup veld
// 3 Coderen (funct doel --> 1) OPRUIMEN
// 
  var hetWoord;
  var woord;
  var gegokteLetters = [];
  function beginnen(){ // Functie voor verbergen van knop na een galg-woord te hebben gesubmit
    document.getElementById("invoerveld").hidden = true;
    document.getElementById("startknop").hidden = true;
    hetWoord = document.getElementById("invoerveld").value; // Het galg woord
    maakWoord();
  }
  function maakWoord(){ // Verander het galg-woord in streepjes
    var x = hetWoord.length;
    woord = "";
    for(var i = 0 ; i < x ; i++){
      woord += "- ";
    }
    document.getElementById("uitkomst").innerHTML = woord;
  }
  
  function raadletter(){ // De loop voor het gokken van woorden
    var letterbox = document.getElementById("letterraden");
    var letter = letterbox.value;
    letterbox.value = "";
    if (!gegokteLetters.includes(letter)) { // Is de letter al eerder gegokt? Checkt gegokteLetters array
      if (hetWoord.includes(letter)) {
        console.log("Letter zit erin!");
        goedeLetter(letter);
      } else {
        console.log("Nope")
      }
      gegokteLetters.push(letter); // Voegt gegokte letter toe aan array
    } else {
      console.log("Letter is al gegokt!")
    }
  }

  function goedeLetter(letter) { // Als gegokte letter goed is, vervang dan de juiste - positie met de gegokte letter
    for (var i = 0; i < hetWoord.length; i++) {
      if (hetWoord.charAt(i) == letter) {
        var woordArray = woord.split(" ")
        //console.log(woordArray)
        woordArray[i] = letter;
        //console.log(woordArray)
        woordArray = woordArray.join("");
        console.log(woordArray);
        updateWoord(woordArray);
      }
    }
  }

  function updateWoord(woordArray) { // Update het woord op het scherm: conversie van --- naar letters
    var woordNieuw = "";
    for (var i = 0; i < woordArray.length; i++) {
      woordNieuw += woordArray[i];
    }
    console.log(woordNieuw);
    document.getElementById("uitkomst").innerHTML = woordNieuw;
    // TODO: Permanent updaten van woord op scherm, voorlopig steeds maar 1 letter
  }
  
</script>

<h1>Galgje</h1>

<span>Speler 1 kies een woord</span>
<input type="text" id="invoerveld" >
<input type="button" id="startknop" value="beginnen" onclick="beginnen()">
<div><h1 id=uitkomst></h1></div>
<input type="text" id="letterraden" onkeyup=raadletter()>



<br><br><br>
<input type="button" id="nieuwknop" value="hetwoord" onclick="checkit()">
